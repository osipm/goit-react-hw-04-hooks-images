(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2DpRw",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__3gjKE"}},11:function(e,t,a){e.exports={containerBtn:"Button_containerBtn__3Qkpn",Button:"Button_Button__26sUb"}},12:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2Oq7T",Modal:"Modal_Modal__ZbzvO"}},14:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__RMbf1"}},16:function(e,t,a){e.exports={spinner:"Loader_spinner__ya8xU"}},21:function(e,t,a){},22:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(4),o=a.n(r),i=(a(21),a(3)),s=(a(22),a(8)),u=(a(23),a(5)),l=a.n(u),b=a(1);function j(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],r=a[1];return Object(b.jsx)("header",{className:l.a.Searchbar,children:Object(b.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),""===c.trim())return s.b.error("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u0430\u0437\u0432\u0443 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438");e.onSubmit(c),r("")},className:l.a.SearchForm,children:[Object(b.jsx)("button",{type:"submit",className:l.a.SearchFormButton,children:Object(b.jsx)("span",{className:l.a.SearchFormButtonLabel,children:"Search"})}),Object(b.jsx)("input",{className:l.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){r(e.currentTarget.value.toLowerCase())}})]})})}var m=a(13),h=a(14),d=a.n(h),O=a(2),f=a.n(O),p=a(10),_=a.n(p),g=function(e){var t=e.src,a=e.onClick;return Object(b.jsx)("li",{className:_.a.ImageGalleryItem,children:Object(b.jsx)("img",{src:t,alt:"",onClick:a,className:_.a.ImageGalleryItemImage})})},S=g;g.prototype={src:f.a.string.isRequired,onClick:f.a.func.isRequired};var x=a(11),v=a.n(x),I=function(e){var t=e.onClickLoad;return Object(b.jsx)("div",{className:v.a.containerBtn,children:Object(b.jsx)("button",{type:"button",onClick:t,className:v.a.Button,children:"Load more"})})},y=a(12),k=a.n(y),B=document.getElementById("modal-root");function C(e){var t=e.onClose,a=e.src,c=e.alt,o=Object(n.useCallback)((function(e){"Escape"===e.code&&t()}),[t]);Object(n.useEffect)((function(){return window.addEventListener("keydown",o),function(){return window.removeEventListener("keydown",o)}}),[o]);return Object(r.createPortal)(Object(b.jsx)("div",{className:k.a.Overlay,onClick:function(e){e.target===e.currentTarget&&t()},children:Object(b.jsx)("div",{className:k.a.Modal,children:Object(b.jsx)("img",{src:a,alt:c})})}),B)}var F=a(15),N=a.n(F),w=(a(45),a(16)),L=a.n(w),G=function(){return Object(b.jsx)(N.a,{className:L.a.spinner,type:"Rings",color:"#00BFFF",height:80,width:80})};function E(e){var t=e.searchPicture,a=Object(n.useState)([]),c=Object(i.a)(a,2),r=c[0],o=c[1],s=Object(n.useState)(1),u=Object(i.a)(s,2),l=u[0],j=u[1],h=Object(n.useState)(!1),O=Object(i.a)(h,2),f=O[0],p=O[1],_=Object(n.useState)(null),g=Object(i.a)(_,2),x=g[0],v=g[1],y=Object(n.useState)(!1),k=Object(i.a)(y,2),B=k[0],F=k[1],N=Object(n.useState)(!1),w=Object(i.a)(N,2),L=w[0],E=w[1],R=Object(n.useState)(""),M=Object(i.a)(R,2),q=M[0],P=M[1];Object(n.useEffect)((function(){if(t&&!B){var e=q!==t,a=e?1:l;F(!0),fetch("https://pixabay.com/api/?q=".concat(t,"&page=").concat(a,"&key=23546576-898e6f2f9578ee60189c27f38&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(a){e?(o(a.hits),j(1),P(t)):o([].concat(Object(m.a)(r),Object(m.a)(a.hits)))})).finally((function(){F(!1),E(!0)}))}}),[t,l]);var U=function(){p(!f)},T=null===r||void 0===r?void 0:r.find((function(e){return e.id===Number(x)})),z=null===T||void 0===T?void 0:T.largeImageURL,A=null===T||void 0===T?void 0:T.tags;return Object(b.jsxs)("div",{children:[Object(b.jsx)("ul",{className:d.a.ImageGallery,children:r.map((function(e){return Object(b.jsx)(S,{src:e.webformatURL,onClick:function(){return function(e){v(e),U()}(e.id)}},e.id)}))}),B&&Object(b.jsx)(G,{}),L&&Object(b.jsx)(I,{onClickLoad:function(){j(l+1)}}),f&&Object(b.jsx)(C,{onClose:U,src:z,alt:A})]})}function R(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(j,{onSubmit:function(e){c(e)}}),Object(b.jsx)(E,{searchPicture:a}),Object(b.jsx)(s.a,{autoClose:3e3})]})}o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(R,{})}),document.getElementById("root"))},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__32YAP",SearchForm:"Searchbar_SearchForm__2nuOi",SearchFormButton:"Searchbar_SearchFormButton__3cloC",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__1LwS8",SearchFormInput:"Searchbar_SearchFormInput__IIN9R"}}},[[46,1,2]]]);
//# sourceMappingURL=main.de16243e.chunk.js.map