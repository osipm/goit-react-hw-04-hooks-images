{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","props","useState","searchPicture","setSearchPicture","className","s","onSubmit","event","preventDefault","trim","toast","error","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","ImageGalleryItem","src","onClick","alt","ImageGalleryItemImage","prototype","PropTypes","string","isRequired","func","Button","onClickLoad","containerBtn","modalRoot","document","getElementById","Modal","onClose","handleESCButtonClose","useCallback","code","useEffect","window","addEventListener","removeEventListener","createPortal","Overlay","target","Loader","spinner","color","height","width","ImageGallery","hits","setHits","page","setPage","showModal","setShowModal","itemId","setItemId","loading","setLoading","loadMore","setLoadMore","prevSearch","setPrevSearch","isNewSearch","searchPage","fetch","then","response","json","finally","toggleModal","modalImage","find","hit","id","Number","imageSrc","largeImageURL","imageTags","tags","map","img","webformatURL","handleItemClick","App","autoClose","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.de16243e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2DpRw\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3gjKE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"containerBtn\":\"Button_containerBtn__3Qkpn\",\"Button\":\"Button_Button__26sUb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2Oq7T\",\"Modal\":\"Modal_Modal__ZbzvO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__RMbf1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinner\":\"Loader_spinner__ya8xU\"};","import { useState } from \"react\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport s from \"./Searchbar.module.css\";\n\nexport default function Searchbar(props) {\n  const [searchPicture, setSearchPicture] = useState(\"\");\n\n  const handleNameChange = (event) => {\n    setSearchPicture(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (searchPicture.trim() === \"\") {\n      return toast.error(\"Введіть назву картинки\");\n    }\n    props.onSubmit(searchPicture);\n    setSearchPicture(\"\");\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form onSubmit={handleSubmit} className={s.SearchForm}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={searchPicture}\n          onChange={handleNameChange}\n        />\n      </form>\n    </header>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ src, onClick }) => (\n  <li className={s.ImageGalleryItem}>\n    <img\n      src={src}\n      alt=\"\"\n      onClick={onClick}\n      className={s.ImageGalleryItemImage}\n    />\n  </li>\n);\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.prototype = {\n  src: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n","import s from './Button.module.css';\nimport PropTypes from 'prop-types';\nconst Button = ({ onClickLoad }) => {\n  return (\n    <div className={s.containerBtn}>\n      <button type=\"button\" onClick={onClickLoad} className={s.Button}>\n        Load more\n      </button>\n    </div>\n  );\n};\n\nexport default Button;\n\nButton.propTypes = {\n  onClickLoad: PropTypes.func.isRequired,\n};\n","import { useCallback, useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.getElementById(\"modal-root\");\n\nexport default function Modal({ onClose, src, alt }) {\n  const handleESCButtonClose = useCallback(\n    (event) => {\n      if (event.code !== \"Escape\") return;\n      onClose();\n    },\n    [onClose]\n  );\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleESCButtonClose);\n    return () => window.removeEventListener(\"keydown\", handleESCButtonClose);\n  }, [handleESCButtonClose]);\n\n  const handleClose = (event) => {\n    if (event.target !== event.currentTarget) return;\n    onClose();\n  };\n\n  return createPortal(\n    <div className={s.Overlay} onClick={handleClose}>\n      <div className={s.Modal}>\n        <img src={src} alt={alt} />\n      </div>\n    </div>,\n    modalRoot\n  );\n}\n\nModal.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n","import Spinner from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './Loader.module.css';\nconst Loader = () => {\n  return (\n    <Spinner\n      className={s.spinner}\n      type=\"Rings\"\n      color=\"#00BFFF\"\n      height={80}\n      width={80}\n    />\n  );\n};\n\nexport default Loader;\n","import { useEffect, useState } from \"react\";\nimport s from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport Button from \"../Button/Button\";\nimport Modal from \"../Modal/Modal\";\nimport Loader from \"../Loader/Loader\";\n\nexport default function ImageGallery({ searchPicture }) {\n  const [hits, setHits] = useState([]);\n  const [page, setPage] = useState(1);\n  const [showModal, setShowModal] = useState(false);\n  const [itemId, setItemId] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [loadMore, setLoadMore] = useState(false);\n  const [prevSearch, setPrevSearch] = useState(\"\");\n\n  useEffect(() => {\n    if (!searchPicture) {\n      return;\n    }\n    if (loading) return;\n    const isNewSearch = prevSearch !== searchPicture;\n    const searchPage = isNewSearch ? 1 : page;\n\n    setLoading(true);\n\n    fetch(\n      `https://pixabay.com/api/?q=${searchPicture}&page=${searchPage}&key=23546576-898e6f2f9578ee60189c27f38&image_type=photo&orientation=horizontal&per_page=12`\n    )\n      .then((response) => response.json())\n      .then((response) => {\n        if (isNewSearch) {\n          setHits(response.hits);\n          setPage(1);\n          setPrevSearch(searchPicture);\n        } else {\n          setHits([...hits, ...response.hits]);\n        }\n      })\n      .finally(() => {\n        setLoading(false);\n        setLoadMore(true);\n      });\n  }, [searchPicture, page]);\n\n  const handleLoad = () => {\n    setPage(page + 1);\n  };\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const handleItemClick = (itemId) => {\n    setItemId(itemId);\n    toggleModal();\n  };\n\n  const modalImage = hits?.find((hit) => hit.id === Number(itemId));\n  const imageSrc = modalImage?.largeImageURL;\n  const imageTags = modalImage?.tags;\n  return (\n    <div>\n      <ul className={s.ImageGallery}>\n        {hits.map((img) => (\n          <ImageGalleryItem\n            src={img.webformatURL}\n            key={img.id}\n            onClick={() => handleItemClick(img.id)}\n          />\n        ))}\n      </ul>\n      {loading && <Loader />}\n      {loadMore && <Button onClickLoad={handleLoad} />}\n\n      {showModal && (\n        <Modal onClose={toggleModal} src={imageSrc} alt={imageTags} />\n      )}\n    </div>\n  );\n}\n","import \"./App.css\";\nimport { ToastContainer } from \"react-toastify\";\nimport { useState } from \"react\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\n\nexport default function App() {\n  const [searchPicture, setSearchPicture] = useState(\"\");\n\n  const handleFormSubmit = (searchPicture) => {\n    setSearchPicture(searchPicture);\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={handleFormSubmit} />\n      <ImageGallery searchPicture={searchPicture} />\n      <ToastContainer autoClose={3000} />\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__32YAP\",\"SearchForm\":\"Searchbar_SearchForm__2nuOi\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3cloC\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1LwS8\",\"SearchFormInput\":\"Searchbar_SearchFormInput__IIN9R\"};"],"sourceRoot":""}